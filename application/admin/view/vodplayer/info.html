{include file="../../../application/admin/view/public/head" /}
<div class="page-container p10">
    <form class="layui-form layui-form-pane" method="post" action="">
        <div class="layui-tab">
            <ul class="layui-tab-title">
                <li class="layui-this">基本设置</li>
                <li>播放器代码</li>
            </ul>
            <div class="layui-tab-content">

                <div class="layui-tab-item layui-show">

                    <div class="layui-form-item">
                        <label class="layui-form-label">状态：</label>
                        <div class="layui-input-block">
                            <input name="status" type="radio" id="rad-1" value="0" title="禁用" {if condition="$info['status'] neq 1"}checked {/if}>
                            <input name="status" type="radio" id="rad-2" value="1" title="启用" {if condition="$info['status'] eq 1"}checked {/if}>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">编码：</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="{$info.from}" placeholder="唯一标识英文、纯数字会自动加_" id="from" name="from" {if condition="$info.from neq ''"} readonly="readonly"{/if}>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">名称：</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="{$info.show}" placeholder="中文播放器名称" id="show" name="show">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">备注：</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="{$info.des}" placeholder="des备注信息" id="des" name="des">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">解析状态：</label>
                        <div class="layui-input-block">
                            <input name="ps" type="radio" value="0" title="禁用" {if condition="$info['ps'] neq 1"}checked {/if}>
                            <input name="ps" type="radio" value="1" title="启用" {if condition="$info['ps'] eq 1"}checked {/if}>
                        </div>
                    </div>
                    <div class="layui-row">
                        <div class="layui-col-xs6">
                        	
                            <div class="layui-form-item" onclick="add(this,'')">
                                <label class="layui-form-label">解析接口： </label>
                                <div class="layui-input-block">
                                    <input placeholder="点击增加" type="text" class="layui-input" disabled>
                                </div>
                            </div>
                            
                            {foreach $info['parse'] as $key => $val}
                            <div class="layui-form-item sdk-item">
                                <label class="layui-form-label">解析接口： <a href="#" style="font-size: 9px;color: red;" onclick="remove(this)"> 删 </a> </label>
                                <div class="layui-input-block">
                                    <input type="text" class="layui-input" value="{$val}" placeholder="独立解析地址，权重高于全局播放器设置的解析"  name="parse[]">
                                </div>
                            </div>
                            {/foreach}

                            <div class="layui-form-item" onclick="add(this,'')">
                                <label class="layui-form-label">解析接口： </label>
                                <div class="layui-input-block">
                                    <input placeholder="点击增加" type="text" class="layui-input" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="layui-col-xs6">
                        	
                        	
                            <div class="layui-form-item" onclick="add(this,'2')">
                                <label class="layui-form-label">解析接口： </label>
                                <div class="layui-input-block">
                                    <input placeholder="点击增加" type="text" class="layui-input" disabled>
                                </div>
                            </div>
                        	
                            {foreach $info['parse2'] as $key => $val}
                            <div class="layui-form-item sdk-item">
                                <label class="layui-form-label">解析接口： <a href="#" style="font-size: 9px;color: red;" onclick="remove(this)"> 删 </a> </label>
                                <div class="layui-input-block">
                                    <input type="text" class="layui-input" value="{$val}" placeholder="独立解析地址，权重高于全局播放器设置的解析"  name="parse2[]">
                                </div>
                            </div>
                            {/foreach}

                            <div class="layui-form-item" onclick="add(this,'2')">
                                <label class="layui-form-label">解析接口： </label>
                                <div class="layui-input-block">
                                    <input placeholder="点击增加" type="text" class="layui-input" disabled>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="layui-form-item">
                        <label class="layui-form-label">排序：</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="{$info.sort}" placeholder="数值越大排列越靠前" id="sort" name="sort">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">提示：</label>
                        <div class="layui-input-block">
                            <textarea name="tip" cols="" style="height:50px;min-height:50px;" class="layui-textarea"  placeholder="tip提示信息" >{$info.tip}</textarea>
                        </div>
                    </div>
                     <div class="layui-form-item">
                        <label class="layui-form-label">播放内核：</label>
                        <div class="layui-input-block">
                            <input name="kernel" type="radio" id="kernel-0" value="0" title="默认" {if condition="$info['kernel'] eq 0"}checked {/if}>
                            <input name="kernel" type="radio" id="kernel-1" value="1" title="ijk" {if condition="$info['kernel'] eq 1"}checked {/if}>
                            <input name="kernel" type="radio" id="kernel-2" value="2" title="exo" {if condition="$info['kernel'] eq 2"}checked {/if}>
                            <input name="kernel" type="radio" id="kernel-3" value="3" title="media" {if condition="$info['kernel'] eq 3"}checked {/if}>
                            
                        </div>
                    </div>
                     <div class="layui-form-item">
                        <label class="layui-form-label">链接特征：</label>
                   
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="{$info.features}" placeholder="直连包含字符串。" id="features" name="features">
                        </div>
                    </div>
                     <div class="layui-form-item">
                        <label class="layui-form-label">请求头：</label>
                        <div class="layui-input-block">
                            <textarea name="headers" cols="" style="height:50px;min-height:100px;" class="layui-textarea"  placeholder="请求头格式，键=>值，一行一个键值对。" >{$info.headers}</textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">使用请求头链接：</label>
                        <div class="layui-input-block">
                            <textarea name="issethead" cols="" style="height:50px;min-height:100px;" class="layui-textarea"  placeholder="使用设置请求头的链接，正则匹配，一行一个。" >{$info.issethead}</textarea>
                        </div>
                    </div>
                    
              </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label class="layui-form-label">文件：</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" value="/static/player/{$info.from}.js" disabled="disabled">

                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">代码：</label>
                        <div class="layui-input-block">
                            <textarea name="code" cols="" rows="20" class="layui-textarea"  placeholder="播放器JS代码" >{$info.code}</textarea>
                        </div>
                    </div>
                </div>

        <div class="layui-form-item center">
            <div class="layui-input-block">
                <button type="submit" class="layui-btn" lay-submit="" lay-filter="formSubmit" data-child="true">保 存</button>
                <button class="layui-btn layui-btn-warm" type="reset">还 原</button>
            </div>
        </div>
    </form>

</div>
{include file="../../../application/admin/view/public/foot" /}
<script type="text/javascript">
    
    function remove(_this) {

        $(_this).parents('.sdk-item').remove();

    }

    function add(_this,str) {
        var htmlCode  = '<div class="layui-form-item sdk-item">';
            htmlCode +=     '<label class="layui-form-label">解析接口： <a href="#" style="font-size: 9px;color: red;" onclick="remove(this)"> 删 </a> </label>'
            htmlCode +=     '<div class="layui-input-block">'
            htmlCode +=     '<input type="text" class="layui-input" value="" placeholder="独立解析地址，权重高于全局播放器设置的解析"  name="parse'+str+'[]">'
            htmlCode += '</div>'

        $(_this).before(htmlCode);
    }

    layui.use(['form', 'layer'], function () {
        // 操作对象
        var form = layui.form
                , layer = layui.layer
                , $ = layui.jquery;

        // 验证
        form.verify({
            from: function (value) {
                if (value == "") {
                    return "请输入编码";
                }
            },
            show: function (value) {
                if (value == "") {
                    return "请输入名称";
                }
            }
        });


    });
</script>

</body>
</html>