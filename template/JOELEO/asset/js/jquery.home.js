!function(e,t){"use strict";var o=function(){this._init()},u="aui-maskd-in",c="aui-maskd-out",n="aui-popup-in",i="aui-popup-out",r="aui-popup-for",d=".aui-maskd",s="."+n,a="."+i,l=!1;o.prototype={_init:function(){var u=this,e=document.querySelectorAll("["+r+"]");if(e)for(var t=0;t<e.length;t++)e[t].setAttribute("tapmode",""),e[t].onclick=function(e){var t=this.getAttribute(r),o=document.getElementById(t);o&&(-1<o.className.indexOf(n)||document.querySelector(s)?u.hide(o):u.show(o))}},show:function(t){var o=this;if(-1<t.className.indexOf(n)||document.querySelector(s))o.hide(t);else if(!l){if(!document.querySelector(d)){document.body.insertAdjacentHTML("beforeend",'<div class="aui-maskd"></div>')}t.style.display="block",setTimeout(function(){document.querySelector(d).classList.add(u),t.classList.add(n),l=!0},10),document.querySelector(d).addEventListener("touchstart",function(e){e.preventDefault(),o.hide(t)}),t.addEventListener("touchmove",function(e){e.preventDefault()},!1)}},hide:function(e){l&&(document.querySelector(d).classList.remove(u),document.querySelector(d).classList.add(c),document.querySelector(s)&&(document.querySelector(s).classList.add(i),document.querySelector(s).classList.remove(n),setTimeout(function(){document.querySelector(a)&&(document.querySelector(a).style.display="none",document.querySelector(a).classList.remove(i),document.querySelector(d)&&document.querySelector(d).parentNode.removeChild(document.querySelector(d)),l=!1)},300)))}},e.auiPopup=o}(window);var emojiLists=[{name:"\u8d34\u5427",path:"emoji/",file:".png",placeholder:"#({alias})",emoji:{"\u5475\u5475":"hehe","\u54c8\u54c8":"haha","\u5410\u820c":"tushe","\u592a\u5f00\u5fc3":"taikaixin","\u7b11\u773c":"xiaoyan","\u82b1\u5fc3":"huaxin","\u5c0f\u4e56":"xiaoguai","\u4e56":"guai","\u6342\u5634\u7b11":"wuzuixiao","\u6ed1\u7a3d":"huaji","\u4f60\u61c2\u7684":"nidongde","\u4e0d\u9ad8\u5174":"bugaoxing","\u6012":"nu","\u6c57":"han","\u9ed1\u7ebf":"heixian","\u6cea":"lei","\u771f\u68d2":"zhenbang","\u55b7":"pen","\u60ca\u54ed":"jingku","\u9634\u9669":"yinxian","\u9119\u89c6":"bishi","\u9177":"ku","\u554a":"a","\u72c2\u6c57":"kuanghan",what:"what","\u7591\u95ee":"yiwen","\u9178\u723d":"suanshuang","\u5440\u54a9\u7239":"yamiedie","\u59d4\u5c48":"weiqu","\u60ca\u8bb6":"jingya","\u7761\u89c9":"shuijiao","\u7b11\u5c3f":"xiaoniao","\u6316\u9f3b":"wabi","\u5410":"tu","\u7280\u5229":"xili","\u5c0f\u7ea2\u8138":"xiaohonglian","\u61d2\u5f97\u7406":"landeli","\u52c9\u5f3a":"mianqiang","\u7231\u5fc3":"aixin","\u5fc3\u788e":"xinsui","\u73ab\u7470":"meigui","\u793c\u7269":"liwu","\u5f69\u8679":"caihong","\u592a\u9633":"taiyang","\u661f\u661f\u6708\u4eae":"xingyue","\u94b1\u5e01":"qianbi","\u8336\u676f":"chabei","\u86cb\u7cd5":"dangao","\u5927\u62c7\u6307":"damuzhi","\u80dc\u5229":"shengli","\u7231\u4f60":"aini",OK:"ok","\u6c99\u53d1":"shafa","\u624b\u7eb8":"shouzhi","\u9999\u8549":"xiangjiao","\u4fbf\u4fbf":"bianbian","\u836f\u4e38":"yaowan","\u7ea2\u9886\u5dfe":"honglingjin","\u8721\u70db":"lazhu","\u97f3\u4e50":"yinyue","\u706f\u6ce1":"dengpao"}}];!function(a,b,d){function c(b,c){switch(this.$content=a(b),this.options=c,this.index=emoji_index,c.animation){case "none":this.showFunc="show";this.hideFunc="hide";this.toggleFunc="toggle";break;case "slide":this.showFunc="slideDown";this.hideFunc="slideUp";this.toggleFunc="slideToggle";break;default:this.showFunc="fadeIn",this.hideFunc="fadeOut",this.toggleFunc="fadeToggle"}this._init()}var e={showTab:!0,animation:"fade",icons:[]};b.emoji_index=0;c.prototype={_init:function(){var b,c,h,n,p,e=this,l=this.options.button,g=e.index;l||(b='\x3cinput type\x3d"image" class\x3d"emoji_btn" id\x3d"emoji_btn_'+g+'" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZBAMAAAA2x5hQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUxpcfTGAPTGAPTGAPTGAPTGAPTGAPTGAPTGAPTGAPTGAPTGAOfx6yUAAAALdFJOUwAzbVQOoYrzwdwkAoU+0gAAAM1JREFUGNN9kK0PQWEUxl8fM24iCYopwi0muuVuzGyKwATFZpJIU01RUG/RBMnHxfz+Oef9uNM84d1+23nO+zxHKVG2WWupRJkdcAwtpCK0lpbqWE01pB0QayonREMoIp7AawQrWSgGGb4pn6dSeSh68FAVXqHqy3wKrkJiDGDTg3dnp//w+WnwlwIOJauF+C7sXRVfdha4O4oIJfTbtdSxs2uqhs585A0ko8iLTMEcDE1n65A+29pYAlr72nz9dKu7GuNTcsL2fDQzB/wCPVJ69nZGb3gAAAAASUVORK5CYII\x3d"/\x3e',c=this.$content.offset().top+this.$content.outerHeight()+10,h=this.$content.offset().left+2,a(b).appendTo(a("body")),a("#emoji_btn_"+g).css({top:c+"px",left:h+"px"}),l="#emoji_btn_"+g);var t=this.options.showTab;c=this.options.basePath;h=this.options.icons;b=h.length;if(0===b)return console.error("\u8868\u60c5\u56fe\u8def\u5f84\u8bfb\u53d6\u5931\u8d25"),!1;for(var w,q,u,x,y,m,v,z='\x3cdiv class\x3d"emoji_container" id\x3d"emoji_container_'+g+'"\x3e',B='\x3cdiv class\x3d"emoji_content"\x3e',C='\x3cdiv class\x3d"emoji_tab" style\x3d"'+(1!==b||t?"":"display:none;")+'"\x3e\x3cdiv class\x3d"emoji_tab_prev"\x3e\x3c/div\x3e\x3cdiv class\x3d"emoji_tab_list"\x3e\x3cul\x3e',k=0;k<b;k++)if(w=h[k].name||"group"+(k+1),n=c+"/"+h[k].path,q=h[k].maxNum,u=h[k].excludeNums,x=h[k].file||".jpg",y=h[k].placeholder||"#em"+(k+1)+"_{alias}#",m=h[k].emoji,v=0,n){if(t='\x3cdiv id\x3d"emoji'+k+'" class\x3d"emoji_icons" style\x3d"'+(0===k?"":"display:none;")+'"\x3e\x3cul\x3e',m){if("object"!=typeof m){console.error("\u7b2c "+k+" \u7ec4 emoji \u53c2\u6570\u8bbe\u7f6e\u4e0d\u6b63\u786e");break}for(p in q=q||m.length,m)q<++v||u&&0<=u.indexOf(v)||(t+='\x3cli\x3e\x3ca data-emoji_code\x3d"'+y.replace(RegExp("{alias}","gi"),p.toString())+'" data-index\x3d"'+v+'" title\x3d"'+p+'"\x3e\x3cimg src\x3d"'+n+m[p]+x+'"/\x3e\x3c/a\x3e\x3c/li\x3e')}else{if(!q){console.error("\u8bf7\u6307\u5b9a "+k+" \u7ec4\u8868\u60c5 maxNum");continue}for(m=1;m<=q;m++)u&&0<=u.indexOf(m)||(t+='\x3cli\x3e\x3ca data-emoji_code\x3d"'+y.replace(RegExp("{alias}","gi"),m.toString())+'" data-index\x3d"'+m+'"\x3e\x3cimg src\x3d"'+n+m+x+'"/\x3e\x3c/a\x3e\x3c/li\x3e')}B+=t+="\x3c/ul\x3e\x3c/div\x3e";C+='\x3cli data-emoji_tab\x3d"emoji'+k+'" class\x3d"'+(0===k?"selected":"")+'" title\x3d"'+w+'"\x3e'+w+"\x3c/li\x3e"}else console.error("\u7b2c "+k+" \u7ec4\u8868\u60c5\u672a\u914d\u7f6e\u56fe\u7247\u8def\u5f84 path");z+=B+="\x3c/div\x3e";z+=C+='\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"emoji_tab_next"\x3e\x3c/div\x3e\x3c/div\x3e';a(z+='\x3cdiv class\x3d"emoji_preview"\x3e\x3cimg/\x3e\x3c/div\x3e').appendTo(a("body"));n=a(l).offset().top+a(l).outerHeight()+5;p=a(l).offset().left;a("#emoji_container_"+g).css({top:n+"px",left:p+"px"});var E=0==b%8?parseInt(b/8):parseInt(b/8)+1,r=1;a(d).on({click:function(b){var c,d,f;b=b.target;var h=e.$content[0];b===a(l)[0]?a("#emoji_container_"+g)[e.toggleFunc]():0<a(b).parents("#emoji_container_"+g).length?(c=a(b).data("emoji_code")||a(b).parent().data("emoji_code"),d=a(b).data("emoji_tab"),c?("DIV"===h.nodeName?(f='\x3cimg class\x3d"emoji_icon" src\x3d"'+a("#emoji_container_"+g+' a[data-emoji_code\x3d"'+c+'"] img').attr("src")+'"/\x3e',e._insertAtCursor(h,f,!1)):e._insertAtCursor(h,c),e.hide(),e.$content.focus()):d?a(b).hasClass("selected")||(a("#emoji_container_"+g+" .emoji_icons").hide(),a("#emoji_container_"+g+" #"+d).show(),a(b).addClass("selected").siblings().removeClass("selected")):a(b).hasClass("emoji_tab_prev")?1<r&&(a("#emoji_container_"+g+" .emoji_tab_list ul").css("margin-left",-503*(r-2)+"px"),r--):a(b).hasClass("emoji_tab_next")&&r<E&&(a("#emoji_container_"+g+" .emoji_tab_list ul").css("margin-left",-503*r+"px"),r++)):0<a("#emoji_container_"+g+":visible").length&&(e.hide(),e.$content.focus())}});a("#emoji_container_"+g+" .emoji_icons a").mouseenter(function(){2*(a(this).offset().left-a("#emoji_container_"+g).offset().left)<a("#emoji_container_"+g).width()?a("#emoji_container_"+g+" .emoji_preview").css({left:"auto",right:0}):a("#emoji_container_"+g+" .emoji_preview").css({left:0,right:"auto"});var b=a(this).find("img").attr("src");a("#emoji_container_"+g+" .emoji_preview img").attr("src",b).parent().show()});a("#emoji_container_"+g+" .emoji_icons a").mouseleave(function(){a("#emoji_container_"+g+" .emoji_preview img").removeAttr("src").parent().hide()})},_insertAtCursor:function(a,c,h){var f,e;if("DIV"===a.nodeName)if(a.focus(),b.getSelection){if((f=b.getSelection()).getRangeAt&&f.rangeCount){(e=f.getRangeAt(0)).deleteContents();a=d.createElement("div");a.innerHTML=c;var A,l;for(c=d.createDocumentFragment();A=a.firstChild;)l=c.appendChild(A);a=c.firstChild;e.insertNode(c);l&&((e=e.cloneRange()).setStartAfter(l),h?e.setStartBefore(a):e.collapse(!0),f.removeAllRanges(),f.addRange(e))}}else(f=d.selection)&&"Control"!==f.type&&(c=f.createRange(),c.collapse(!0),f.createRange().pasteHTML(html),h&&((e=f.createRange()).setEndPoint("StartToStart",c),e.select()));else d.selection?(a.focus(),(f=d.selection.createRange()).text=c,f.select()):a.selectionStart||0===a.selectionStart?(h=a.selectionStart,f=a.selectionEnd,e=a.scrollTop,a.value=a.value.substring(0,h)+c+a.value.substring(f,a.value.length),0<e&&(a.scrollTop=e),a.focus(),a.selectionStart=h+c.length,a.selectionEnd=h+c.length):(a.value+=c,a.focus())},show:function(){a("#emoji_container_"+this.index)[this.showFunc]()},hide:function(){a("#emoji_container_"+this.index)[this.hideFunc]()},toggle:function(){a("#emoji_container_"+this.index)[this.toggleFunc]()}};a.fn.emoji=function(b){return emoji_index++,this.each(function(){var d=a(this),f=d.data("plugin_emoji"+emoji_index),n=a.extend({},e,d.data(),"object"==typeof b&&b);f||d.data("plugin_emoji"+emoji_index,f=new c(this,n));"string"==typeof b&&f[b]()})};a.fn.emoji.Constructor=c}(jQuery,window,document);(function(a,b,d){function c(b,c){this.$content=a(b);this.options=c;this._init()}var e={icons:[]};c.prototype={_init:function(){var a,b,c,d,e=this.options.icons,D=this.options.basePath,l=e.length;if(0<l)for(var g=0;g<l;g++)if(a=D+"/"+e[g].path,b=e[g].file||".jpg",c=(c=(c=(c=(c=e[g].placeholder).replace("[","\\[")).replace("]","\\]")).replace("(","\\(")).replace(")","\\)"),d=e[g].emoji,a)if(d){if("object"!=typeof d){console.error("\u7b2c "+g+" \u7ec4 emoji \u53c2\u6570\u8bbe\u7f6e\u4e0d\u6b63\u786e");break}c=c.replace(RegExp("{alias}","gi"),"([\\s\\S]+?)");c=new RegExp(c,"gm");this.$content.html(this.$content.html().replace(c,function(c,e){var f=d[e];return f?'\x3cimg class\x3d"wp-smiley" src\x3d"'+a+f+b+'" title\x3d"'+e+'" alt\x3d"'+e+'"/\x3e':c}))}else c=c.replace(RegExp("{alias}","gi"),"(\\d+?)"),this.$content.html(this.$content.html().replace(new RegExp(c,"gm"),'\x3cimg class\x3d"wp-smiley" src\x3d"'+a+"$1"+b+'"/\x3e'));else console.error("\u7b2c "+g+" \u7ec4\u8868\u60c5\u672a\u914d\u7f6e\u56fe\u7247\u8def\u5f84 path")}};a.fn.emojiParse=function(b){return this.each(function(){var d=a(this),f=d.data("plugin_emojiParse"),n=a.extend({},e,d.data(),"object"==typeof b&&b);f||d.data("plugin_emojiParse",f=new c(this,n));"string"==typeof b&&f[b]()})};a.fn.emojiParse.Constructor=c})(jQuery,window,document);!function(e,t){"use strict";var o=function(){};o.prototype={create:function(e,t){var o,i=this;switch(e.type){case"success":var a='<i class="aui-iconfont aui-icon-correct"></i>';break;case"fail":a='<i class="aui-iconfont aui-icon-close"></i>';break;case"custom":a=e.html;break;case"loading":a='<div class="aui-toast-loading"></div>'}if(o='<div class="aui-toast">'+a+(e.title?'<div class="aui-toast-content">'+e.title+"</div>":"")+"</div>",!document.querySelector(".aui-toast")){document.body.insertAdjacentHTML("beforeend",o);var u=e.duration?e.duration:"2000";i.show(),"loading"==e.type?t&&t({status:"success"}):setTimeout(function(){i.hide()},u)}},show:function(){document.querySelector(".aui-toast").style.display="block",document.querySelector(".aui-toast").style.marginTop="-"+Math.round(document.querySelector(".aui-toast").offsetHeight/2)+"px",document.querySelector(".aui-toast")},hide:function(){document.querySelector(".aui-toast")&&document.querySelector(".aui-toast").parentNode.removeChild(document.querySelector(".aui-toast"))},remove:function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),document.querySelector(".aui-mask")&&document.querySelector(".aui-mask").classList.remove("aui-mask-out"),!0},success:function(e,t){return e.type="success",this.create(e,t)},fail:function(e,t){return e.type="fail",this.create(e,t)},custom:function(e,t){return e.type="custom",this.create(e,t)},loading:function(e,t){return e.type="loading",this.create(e,t)}},e.auiToast=o}(window);!function(e,t){"use strict";var i=function(){};i.prototype={params:{title:"",msg:"",buttons:["取消","确定"],input:!1},create:function(e,t){var i,o=this,a="",u=e.title?'<div class="aui-dialog-header">'+e.title+"</div>":'<div class="aui-dialog-header">'+o.params.title+"</div>";if(e.input){e.text=e.text?e.text:"";var n='<div class="aui-dialog-body"><input type="text" placeholder="'+e.text+'"></div>'}else n=e.msg?'<div class="aui-dialog-body">'+e.msg+"</div>":'<div class="aui-dialog-body">'+o.params.msg+"</div>";var d=e.buttons?e.buttons:o.params.buttons;if(d&&0<d.length)for(var r=0;r<d.length;r++)a+='<div class="aui-dialog-btn" tapmode button-index="'+r+'">'+d[r]+"</div>";i='<div class="aui-dialog">'+u+n+('<div class="aui-dialog-footer">'+a+"</div>")+"</div>",document.body.insertAdjacentHTML("beforeend",i);var c=document.querySelectorAll(".aui-dialog-btn");if(c&&0<c.length)for(var l=0;l<c.length;l++)c[l].onclick=function(){t&&(e.input?t({buttonIndex:parseInt(this.getAttribute("button-index"))+1,text:document.querySelector("input").value}):t({buttonIndex:parseInt(this.getAttribute("button-index"))+1})),o.close()};o.open()},open:function(){if(document.querySelector(".aui-dialog")){if(document.querySelector(".aui-dialog").style.marginTop="-"+Math.round(document.querySelector(".aui-dialog").offsetHeight/2)+"px",!document.querySelector(".aui-mask")){document.body.insertAdjacentHTML("beforeend",'<div class="aui-mask"></div>')}setTimeout(function(){document.querySelector(".aui-dialog").classList.add("aui-dialog-in"),document.querySelector(".aui-mask").classList.add("aui-mask-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-in")},10),document.querySelector(".aui-mask").addEventListener("touchmove",function(e){e.preventDefault()}),document.querySelector(".aui-dialog").addEventListener("touchmove",function(e){e.preventDefault()})}},close:function(){var e=this;document.querySelector(".aui-mask").classList.remove("aui-mask-in"),document.querySelector(".aui-dialog").classList.remove("aui-dialog-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-out"),document.querySelector(".aui-dialog:not(.aui-dialog-out)")?setTimeout(function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),e.open(),!0},200):(document.querySelector(".aui-mask").classList.add("aui-mask-out"),document.querySelector(".aui-dialog").addEventListener("webkitTransitionEnd",function(){e.remove()}),document.querySelector(".aui-dialog").addEventListener("transitionend",function(){e.remove()}))},remove:function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),document.querySelector(".aui-mask")&&document.querySelector(".aui-mask").classList.remove("aui-mask-out"),!0},alert:function(e,t){return this.create(e,t)},prompt:function(e,t){return e.input=!0,this.create(e,t)}},e.auiDialog=i}(window);

